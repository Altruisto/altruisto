!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){var r,s,i;s=[e],void 0===(i="function"==typeof(r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");const s=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(e.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",a=(e,t,n)=>new Proxy(t,{apply:(t,r,s)=>n.call(r,e,...s)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const g=(e,t={},n={})=>{let r=Object.create(null),l={has:(t,n)=>n in e||n in r,get(l,c,m){if(c in r)return r[c];if(!(c in e))return;let u=e[c];if("function"==typeof u)if("function"==typeof t[c])u=a(e,e[c],t[c]);else if(o(n,c)){let t=((e,t)=>(function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise((i,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,s({resolve:i,reject:a},t))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",s),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,s({resolve:i,reject:a},t))})}))(c,n[c]);u=a(e,e[c],t)}else u=u.bind(e);else{if("object"!=typeof u||null===u||!o(t,c)&&!o(n,c))return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:()=>e[c],set(t){e[c]=t}}),u;u=g(u,t[c],n[c])}return r[c]=u,u},set:(t,n,s,i)=>(n in r?r[n]=s:e[n]=s,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},c=Object.create(e);return new Proxy(c,l)},l=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}});let c=!1;const m=new class extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}(e=>"function"!=typeof e?e:function(t,r,s){let i,a,o=!1,g=new Promise(e=>{i=function(t){c||(console.warn(n,(new Error).stack),c=!0),o=!0,e(t)}});try{a=e(t,r,i)}catch(e){a=Promise.reject(e)}const l=!0!==a&&(e=>e&&"object"==typeof e&&"function"==typeof e.then)(a);if(!0!==a&&!l&&!o)return!1;const m=e=>{e.then(e=>{s(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return m(l?a:g),!0}),u=(n,r,s,...a)=>{if(a.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${i(r.minArgs)} for ${n}(), got ${a.length}`);if(a.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${i(r.maxArgs)} for ${n}(), got ${a.length}`);return new Promise((n,r)=>{const i=(({reject:n,resolve:r},s)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(e.runtime.lastError):s&&s.__mozWebExtensionPolyfillReject__?n(new Error(s.message)):r(s)}).bind(null,{resolve:n,reject:r});a.push(i),s.sendMessage(...a)})},A={runtime:{onMessage:l(m),onMessageExternal:l(m),sendMessage:u.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:u.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{networkPredictionEnabled:f,webRTCIPHandlingPolicy:f},services:{passwordSavingEnabled:f},websites:{hyperlinkAuditingEnabled:f,referrersEnabled:f}},g(e,A,r)};e.exports=r(chrome)}else e.exports=browser})?r.apply(t,s):r)||(e.exports=i)},function(e,t,n){"use strict";function r(e){var t,n=(t=(t=(t=(e=(e=e.toString()).toLowerCase()).indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0]).replace(/^www\./,"")).split(".");return n.length>2&&(t=-1!==t.indexOf(".co.")||-1!==t.indexOf(".com.")?n.slice(-3).join("."):n.slice(-2).join(".")),t}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(3);e.exports=function(){var e=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div id="AltruistoTopBar"><img src="'),r.b(r.v(r.d("ASSETS_PATHS.icons.cancel",e,t,0))),r.b(' " id="AltruistoTopBarIcon"> <a href="https://altruisto.com" id="AltruistoTopBarLogoLink"><img src="'),r.b(r.v(r.d("ASSETS_PATHS.icons.icon",e,t,0))),r.b('" id="AltruistoTopBarLogo"></a><div id="AltruistoTopBarCTA"> '),r.b(r.t(r.f("content",e,t,0))),r.b('</div></div><div style="clear:both"></div>'),r.fl()},partials:{},subs:{}},'<div id="AltruistoTopBar"><img src="{{ASSETS_PATHS.icons.cancel}} " id="AltruistoTopBarIcon"> <a href="https://altruisto.com" id="AltruistoTopBarLogoLink"><img src="{{ASSETS_PATHS.icons.icon}}" id="AltruistoTopBarLogo"></a><div id="AltruistoTopBarCTA"> {{{content}}}</div></div><div style="clear:both"></div>',r);return e.render.apply(e,arguments)}},function(e,t,n){var r=n(4);r.Template=n(5).Template,r.template=r.Template,e.exports=r},function(e,t,n){!function(e){var t=/\S/,n=/\"/g,r=/\n/g,s=/\r/g,i=/\\/g,a=/\u2028/,o=/\u2029/;function g(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function l(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function c(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,s=e.length;r<s;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(n,r){var s=n.length,i=0,a=null,o=null,m="",u=[],A=!1,f=0,p=0,d="{{",x="}}";function h(){m.length>0&&(u.push({tag:"_t",text:new String(m)}),m="")}function b(n,r){if(h(),n&&function(){for(var n=!0,r=p;r<u.length;r++)if(!(n=e.tags[u[r].tag]<e.tags._v||"_t"==u[r].tag&&null===u[r].text.match(t)))return!1;return n}())for(var s,i=p;i<u.length;i++)u[i].text&&((s=u[i+1])&&">"==s.tag&&(s.indent=u[i].text.toString()),u.splice(i,1));else r||u.push({tag:"\n"});A=!1,p=u.length}function v(e,t){var n="="+x,r=e.indexOf(n,t),s=l(e.substring(e.indexOf("=",t)+1,r)).split(" ");return d=s[0],x=s[s.length-1],r+n.length-1}for(r&&(r=r.split(" "),d=r[0],x=r[1]),f=0;f<s;f++)0==i?c(d,n,f)?(--f,h(),i=1):"\n"==n.charAt(f)?b(A):m+=n.charAt(f):1==i?(f+=d.length-1,"="==(a=(o=e.tags[n.charAt(f+1)])?n.charAt(f+1):"_v")?(f=v(n,f),i=0):(o&&f++,i=2),A=f):c(x,n,f)?(u.push({tag:a,n:l(m),otag:d,ctag:x,i:"/"==a?A-d.length:f+x.length}),m="",f+=x.length-1,i=0,"{"==a&&("}}"==x?f++:g(u[u.length-1]))):m+=n.charAt(f);return b(A,!0),u};var m={_t:!0,"\n":!0,$:!0,"/":!0};function u(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n)return e.tag="#",!0}function A(e,t,n){for(var r=0,s=n.length;r<s;r++)if(n[r].c==e&&n[r].o==t)return!0}function f(e){var t=[];for(var n in e.partials)t.push('"'+d(n)+'":{name:"'+d(e.partials[n].name)+'", '+f(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var n in e)t.push('"'+d(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,n,r){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+f(t)+"}"};var p=0;function d(e){return e.replace(i,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(s,"\\r").replace(a,"\\u2028").replace(o,"\\u2029")}function x(e){return~e.indexOf(".")?"d":"f"}function h(e,t){var n="<"+(t.prefix||"")+e.n+p++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+d(n)+'",c,p,"'+(e.indent||"")+'"));',n}function b(e,t){t.code+="t.b(t.t(t."+x(e.n)+'("'+d(e.n)+'",c,p,0)));'}function v(e){return"t.b("+e+");"}e.generate=function(t,n,r){p=0;var s={code:"",subs:{},partials:{}};return e.walk(t,s),r.asString?this.stringify(s,n,r):this.makeTemplate(s,n,r)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var r=this.makePartials(e);return r.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(r,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+x(t.n)+'("'+d(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+x(t.n)+'("'+d(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":h,"<":function(t,n){var r={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,r);var s=n.partials[h(t,n)];s.subs=r.subs,s.partials=r.partials},$:function(t,n){var r={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,r),n.subs[t.n]=r.code,n.inPartial||(n.code+='t.sub("'+d(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=v('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+x(e.n)+'("'+d(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=v('"'+d(e.text)+'"')},"{":b,"&":b},e.walk=function(t,n){for(var r,s=0,i=t.length;s<i;s++)(r=e.codegen[t[s].tag])&&r(t[s],n);return n},e.parse=function(t,n,r){return function t(n,r,s,i){var a,o=[],g=null,l=null;for(a=s[s.length-1];n.length>0;){if(l=n.shift(),a&&"<"==a.tag&&!(l.tag in m))throw new Error("Illegal content in < super tag.");if(e.tags[l.tag]<=e.tags.$||u(l,i))s.push(l),l.nodes=t(n,l.tag,s,i);else{if("/"==l.tag){if(0===s.length)throw new Error("Closing tag without opener: /"+l.n);if(g=s.pop(),l.n!=g.n&&!A(l.n,g.n,i))throw new Error("Nesting error: "+g.n+" vs. "+l.n);return g.end=l.i,o}"\n"==l.tag&&(l.last=0==n.length||"\n"==n[0].tag)}o.push(l)}if(s.length>0)throw new Error("missing closing tag: "+s.pop().n);return o}(t,0,[],(r=r||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var r=e.cacheKey(t,n),s=this.cache[r];if(s){var i=s.partials;for(var a in i)delete i[a].instance;return s}return s=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[r]=s}}(t)},function(e,t,n){!function(e){function t(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=g(e),o.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(i,"&#39;").replace(a,"&quot;"):e},t:g,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],r=t[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[e].base=r,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);r=function(e,t,n,r,s,i){function a(){}function o(){}var g;a.prototype=e,o.prototype=e.subs;var l=new a;for(g in l.subs=new o,l.subsText={},l.buf="",r=r||{},l.stackSubs=r,l.subsText=i,t)r[g]||(r[g]=t[g]);for(g in r)l.subs[g]=r[g];for(g in s=s||{},l.stackPartials=s,n)s[g]||(s[g]=n[g]);for(g in s)l.partials[g]=s[g];return l}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=r,r},rp:function(e,t,n,r){var s=this.ep(e,n);return s?s.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(l(r))for(var s=0;s<r.length;s++)e.push(r[s]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,r,s,i,a){var o;return(!l(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,r,s,i,a)),o=!!e,!r&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,n,r,s){var i,a=e.split("."),o=this.f(a[0],n,r,s),g=this.options.modelGet,c=null;if("."===e&&l(n[n.length-2]))o=n[n.length-1];else for(var m=1;m<a.length;m++)void 0!==(i=t(a[m],o,g))?(c=o,o=i):o="";return!(s&&!o)&&(s||"function"!=typeof o||(n.push(c),o=this.mv(o,n,r),n.pop()),o)},f:function(e,n,r,s){for(var i=!1,a=!1,o=this.options.modelGet,g=n.length-1;g>=0;g--)if(void 0!==(i=t(e,n[g],o))){a=!0;break}return a?(s||"function"!=typeof i||(i=this.mv(i,n,r)),i):!s&&""},ls:function(e,t,n,r,s){var i=this.options.delimiters;return this.options.delimiters=s,this.b(this.ct(g(e.call(t,r)),t,n)),this.options.delimiters=i,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,s,i,a){var o,g=t[t.length-1],l=e.call(g);return"function"==typeof l?!!r||(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,g,n,o.substring(s,i),a)):l},mv:function(e,t,n){var r=t[t.length-1],s=e.call(r);return"function"==typeof s?this.ct(g(s.call(r)),r,n):s},sub:function(e,t,n,r){var s=this.subs[e];s&&(this.activeSub=e,s(t,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,s=/>/g,i=/\'/g,a=/\"/g,o=/[&<>\"\']/;function g(e){return String(null==e?"":e)}var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)},function(e,t,n){(e.exports=n(7)(!1)).push([e.i,"#AltruistoTopBarButton,\n#AltruistoTopBarButtonGrey,\n#AltruistoTopBarCTA {\n  display: inline-block;\n  text-align: center;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n}\n\n#AltruistoTopBar {\n  width: 350px !important;\n  max-height: 180px !important;\n  min-height: 120px !important;\n  border: 1px solid #e0e0e0;\n  background-color: #fff !important;\n  box-shadow: 2px 2px 20px 2px rgba(0, 0, 0, 0.3);\n  position: fixed;\n  top: 35px;\n  right: 35px;\n  z-index: 99999999999999999;\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n  text-align: center !important;\n  line-height: 1.4285;\n  font-size: 14px;\n  color: #959595 !important;\n  animation: altruisto-slide-in-right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s 1 normal both;\n}\n\n#AltruistoTopBarLogoLink {\n  float: left !important;\n}\n\n#AltruistoTopBarLogo {\n  max-width: 20px !important;\n  margin: 8px;\n  float: left;\n}\n\n#AltruistoTopBarIcon {\n  float: right;\n  margin: 10px;\n  cursor: pointer;\n  max-width: 10px !important;\n}\n\n#AltruistoTopBarWelcome {\n  font-size: 12px;\n  width: 30%;\n  float: left;\n  margin: 9px 0 0;\n}\n\n#AltruistoTopBarCTA {\n  font-weight: 700;\n  margin: 7px 0;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n  width: 240px;\n  margin-top: 20px;\n}\n\n#AltruistoTopBarButton {\n  border: 1px solid #4caf50;\n  background: #4caf50;\n  color: #fff;\n  border-radius: 0;\n  padding: 6px 12px;\n  text-decoration: none;\n  font-weight: 700 !important;\n  line-height: 1.4285;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n  text-transform: uppercase;\n  font-size: 14px !important;\n}\n\n#AltruistoTopBarButton:hover {\n  text-decoration: underline;\n  background-color: #439a46;\n  color: #fff;\n}\n\n#AltruistoTopBarButtonGrey {\n  border: 1px solid #e0e1e2;\n  background: #e0e1e2;\n  color: #fff;\n  border-radius: 0;\n  padding: 6px 12px;\n  text-decoration: none;\n  font-weight: 700;\n  line-height: 1.4285;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n}\n\n#AltruistoTopBarButtonGrey:hover {\n  text-decoration: underline;\n  background-color: #cacbcd;\n  color: #fff;\n}\n\n#AltruistoSmallText {\n  font-weight: 300px;\n  font-size: 12px;\n}\n\n@-webkit-keyframes altruisto-slide-in-right {\n  0% {\n    -webkit-transform: translateX(1000px);\n    transform: translateX(1000px);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translateX(0);\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n@keyframes altruisto-slide-in-right {\n  0% {\n    -webkit-transform: translateX(1000px);\n    transform: translateX(1000px);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translateX(0);\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var s=(a=r,o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(g," */")),i=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")});return[n].concat(i).concat([s]).join("\n")}var a,o,g;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},s=0;s<this.length;s++){var i=this[s][0];null!=i&&(r[i]=!0)}for(var a=0;a<e.length;a++){var o=e[a];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="(".concat(o[2],") and (").concat(n,")")),t.push(o))}},t}},,function(e,t,n){"use strict";n.r(t);var r=n(0);const s={icons:{cancel:r.extension.getURL("assets/img/cancel.png"),settings:r.extension.getURL("assets/img/settings.png"),icon:r.extension.getURL("assets/img/icon.png"),icon16:r.extension.getURL("assets/img/icon16.png")},pages:{options:r.extension.getURL("pages/options.html")}};var i=n(1);const a=Object(i.a)(location.href);function o(){let e=[];document.getElementById("AltruistoTopBar").style.display="none",r.storage.local.get({closedWebsites:[]}).then(t=>{-1===t.closedWebsites.indexOf(a)&&((e=t.closedWebsites).push(a),r.storage.local.set({closedWebsites:e}))})}function g(e){let t=n(2),i=function(e){let t;return t=e?r.i18n.getMessage("topbarActivatedInfo")+'<p id="AltruistoSmallText">'+r.i18n.getMessage("topbarActivatedClose")+"</p>":-1!==a.indexOf("ebay")?r.i18n.getMessage("topbarActivateInfo")+"<a href=https://altruisto.com/confirm?url="+location.href+"&lang="+r.i18n.getUILanguage()+" id=AltruistoTopBarButton>"+r.i18n.getMessage("topbarActivateButton")+"</a>":r.i18n.getMessage("topbarActivateInfo")+"<a href=https://altruisto.com/redirect?url="+location.href+"&lang="+r.i18n.getUILanguage()+" id=AltruistoTopBarButton>"+r.i18n.getMessage("topbarActivateButton")+"</a>"}(e);return t({ASSETS_PATHS:s,content:i})}function l(e){let t=n(6).toString(),s=document.createElement("style");s.innerHTML=t;let i=g(e),a=document.createElement("div");a.id="Altruisto","ar"==r.i18n.getUILanguage()&&(a.dir="rtl"),a.innerHTML=i,document.documentElement.prepend(s),document.documentElement.prepend(a),e&&setTimeout(o,6e3),document.getElementById("AltruistoTopBarIcon").addEventListener("click",o)}function c(e){if(e.length)for(let t=0;t<e.length;t++)if(e[t].domain==a){if(e[t].timestamp+6048e5>Date.now())return!0}}var m=function(){r.storage.local.get({activatedAffiliates:[],closedWebsites:[],disabledWebsites:[],partners:[]}).then(e=>{if(console.log("items",e),-1!==e.partners.indexOf(a)){if(console.log("is in partners"),console.log(" items.closedWebsites.indexOf(DOMAIN) == -1 && items.disabledWebsites.indexOf(DOMAIN) == -1",-1==e.closedWebsites.indexOf(a)&&-1==e.disabledWebsites.indexOf(a)),-1==e.closedWebsites.indexOf(a)&&-1==e.disabledWebsites.indexOf(a)){console.log("not closed, not disabled");let t=!1;c(e.activatedAffiliates)&&(t=!0),console.log("activated",t),l(t)}if(-1==e.disabledWebsites.indexOf(a)&&(location.href,"booking.com"==a&&-1!==location.href.indexOf("book.html")||"etsy.com"==a&&-1!==location.href.indexOf("/cart/")||"aliexpress.com"==a&&-1!==location.href.indexOf("/confirm_order.htm")||"barnesandnoble.com"==a&&-1!==location.href.indexOf("/checkout/"))){let t=!1;c(e.activatedAffiliates)&&(t=!0),l(t)}}})};r.storage.sync.get({addTopBar:!0}).then(e=>e&&m())}]);