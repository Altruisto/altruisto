!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){var r,s,i;s=[t],void 0===(i="function"==typeof(r=function(t){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const e="The message port closed before a response was received.",n="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=t=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");const s=(e,n)=>(...r)=>{t.runtime.lastError?e.reject(t.runtime.lastError):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?e.resolve(r[0]):e.resolve(r)},i=t=>1==t?"argument":"arguments",a=(t,e,n)=>new Proxy(e,{apply:(e,r,s)=>n.call(r,t,...s)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const g=(t,e={},n={})=>{let r=Object.create(null),l={has:(e,n)=>n in t||n in r,get(l,c,m){if(c in r)return r[c];if(!(c in t))return;let u=t[c];if("function"==typeof u)if("function"==typeof e[c])u=a(t,t[c],e[c]);else if(o(n,c)){let e=((t,e)=>(function(n,...r){if(r.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${i(e.minArgs)} for ${t}(), got ${r.length}`);if(r.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${i(e.maxArgs)} for ${t}(), got ${r.length}`);return new Promise((i,a)=>{if(e.fallbackToNoCallback)try{n[t](...r,s({resolve:i,reject:a},e))}catch(s){console.warn(`${t} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",s),n[t](...r),e.fallbackToNoCallback=!1,e.noCallback=!0,i()}else e.noCallback?(n[t](...r),i()):n[t](...r,s({resolve:i,reject:a},e))})}))(c,n[c]);u=a(t,t[c],e)}else u=u.bind(t);else{if("object"!=typeof u||null===u||!o(e,c)&&!o(n,c))return Object.defineProperty(r,c,{configurable:!0,enumerable:!0,get:()=>t[c],set(e){t[c]=e}}),u;u=g(u,e[c],n[c])}return r[c]=u,u},set:(e,n,s,i)=>(n in r?r[n]=s:t[n]=s,!0),defineProperty:(t,e,n)=>Reflect.defineProperty(r,e,n),deleteProperty:(t,e)=>Reflect.deleteProperty(r,e)},c=Object.create(t);return new Proxy(c,l)},l=t=>({addListener(e,n,...r){e.addListener(t.get(n),...r)},hasListener:(e,n)=>e.hasListener(t.get(n)),removeListener(e,n){e.removeListener(t.get(n))}});let c=!1;const m=new class extends WeakMap{constructor(t,e){super(e),this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}(t=>"function"!=typeof t?t:function(e,r,s){let i,a,o=!1,g=new Promise(t=>{i=function(e){c||(console.warn(n,(new Error).stack),c=!0),o=!0,t(e)}});try{a=t(e,r,i)}catch(t){a=Promise.reject(t)}const l=!0!==a&&(t=>t&&"object"==typeof t&&"function"==typeof t.then)(a);if(!0!==a&&!l&&!o)return!1;const m=t=>{t.then(t=>{s(t)},t=>{let e;e=t&&(t instanceof Error||"string"==typeof t.message)?t.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:e})}).catch(t=>{console.error("Failed to send onMessage rejected reply",t)})};return m(l?a:g),!0}),u=(n,r,s,...a)=>{if(a.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${i(r.minArgs)} for ${n}(), got ${a.length}`);if(a.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${i(r.maxArgs)} for ${n}(), got ${a.length}`);return new Promise((n,r)=>{const i=(({reject:n,resolve:r},s)=>{t.runtime.lastError?t.runtime.lastError.message===e?r():n(t.runtime.lastError):s&&s.__mozWebExtensionPolyfillReject__?n(new Error(s.message)):r(s)}).bind(null,{resolve:n,reject:r});a.push(i),s.sendMessage(...a)})},A={runtime:{onMessage:l(m),onMessageExternal:l(m),sendMessage:u.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:u.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{networkPredictionEnabled:f,webRTCIPHandlingPolicy:f},services:{passwordSavingEnabled:f},websites:{hyperlinkAuditingEnabled:f,referrersEnabled:f}},g(t,A,r)};t.exports=r(chrome)}else t.exports=browser})?r.apply(e,s):r)||(t.exports=i)},function(t,e,n){"use strict";function r(t){var e,n=(e=(e=(e=(t=(t=t.toString()).toLowerCase()).indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0]).replace(/^www\./,"")).split(".");return n.length>2&&(e=-1!==e.indexOf(".co.")||-1!==e.indexOf(".com.")?n.slice(-3).join("."):n.slice(-2).join(".")),e}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(3);t.exports=function(){var t=new r.Template({code:function(t,e,n){var r=this;return r.b(n=n||""),r.b('<div id="AltruistoTopBar"><img src="'),r.b(r.v(r.d("ASSETS_PATHS.icons.cancel",t,e,0))),r.b(' " id="AltruistoTopBarIcon"> <a href="https://altruisto.com" id="AltruistoTopBarLogoLink"><img src="'),r.b(r.v(r.d("ASSETS_PATHS.icons.icon",t,e,0))),r.b('" id="AltruistoTopBarLogo"></a><div id="AltruistoTopBarCTA"> '),r.b(r.t(r.f("content",t,e,0))),r.b('</div></div><div style="clear:both"></div>'),r.fl()},partials:{},subs:{}},'<div id="AltruistoTopBar"><img src="{{ASSETS_PATHS.icons.cancel}} " id="AltruistoTopBarIcon"> <a href="https://altruisto.com" id="AltruistoTopBarLogoLink"><img src="{{ASSETS_PATHS.icons.icon}}" id="AltruistoTopBarLogo"></a><div id="AltruistoTopBarCTA"> {{{content}}}</div></div><div style="clear:both"></div>',r);return t.render.apply(t,arguments)}},function(t,e,n){var r=n(4);r.Template=n(5).Template,r.template=r.Template,t.exports=r},function(t,e,n){!function(t){var e=/\S/,n=/\"/g,r=/\n/g,s=/\r/g,i=/\\/g,a=/\u2028/,o=/\u2029/;function g(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function l(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function c(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,s=t.length;r<s;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(n,r){var s=n.length,i=0,a=null,o=null,m="",u=[],A=!1,f=0,p=0,d="{{",x="}}";function h(){m.length>0&&(u.push({tag:"_t",text:new String(m)}),m="")}function b(n,r){if(h(),n&&function(){for(var n=!0,r=p;r<u.length;r++)if(!(n=t.tags[u[r].tag]<t.tags._v||"_t"==u[r].tag&&null===u[r].text.match(e)))return!1;return n}())for(var s,i=p;i<u.length;i++)u[i].text&&((s=u[i+1])&&">"==s.tag&&(s.indent=u[i].text.toString()),u.splice(i,1));else r||u.push({tag:"\n"});A=!1,p=u.length}function v(t,e){var n="="+x,r=t.indexOf(n,e),s=l(t.substring(t.indexOf("=",e)+1,r)).split(" ");return d=s[0],x=s[s.length-1],r+n.length-1}for(r&&(r=r.split(" "),d=r[0],x=r[1]),f=0;f<s;f++)0==i?c(d,n,f)?(--f,h(),i=1):"\n"==n.charAt(f)?b(A):m+=n.charAt(f):1==i?(f+=d.length-1,"="==(a=(o=t.tags[n.charAt(f+1)])?n.charAt(f+1):"_v")?(f=v(n,f),i=0):(o&&f++,i=2),A=f):c(x,n,f)?(u.push({tag:a,n:l(m),otag:d,ctag:x,i:"/"==a?A-d.length:f+x.length}),m="",f+=x.length-1,i=0,"{"==a&&("}}"==x?f++:g(u[u.length-1]))):m+=n.charAt(f);return b(A,!0),u};var m={_t:!0,"\n":!0,$:!0,"/":!0};function u(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function A(t,e,n){for(var r=0,s=n.length;r<s;r++)if(n[r].c==t&&n[r].o==e)return!0}function f(t){var e=[];for(var n in t.partials)e.push('"'+d(n)+'":{name:"'+d(t.partials[n].name)+'", '+f(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+function(t){var e=[];for(var n in t)e.push('"'+d(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}(t.subs)}t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+f(e)+"}"};var p=0;function d(t){return t.replace(i,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(s,"\\r").replace(a,"\\u2028").replace(o,"\\u2029")}function x(t){return~t.indexOf(".")?"d":"f"}function h(t,e){var n="<"+(e.prefix||"")+t.n+p++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+d(n)+'",c,p,"'+(t.indent||"")+'"));',n}function b(t,e){e.code+="t.b(t.t(t."+x(t.n)+'("'+d(t.n)+'",c,p,0)));'}function v(t){return"t.b("+t+");"}t.generate=function(e,n,r){p=0;var s={code:"",subs:{},partials:{}};return t.walk(e,s),r.asString?this.stringify(s,n,r):this.makeTemplate(s,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+x(e.n)+'("'+d(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+x(e.n)+'("'+d(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":h,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var s=n.partials[h(e,n)];s.subs=r.subs,s.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+d(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=v('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+x(t.n)+'("'+d(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=v('"'+d(t.text)+'"')},"{":b,"&":b},t.walk=function(e,n){for(var r,s=0,i=e.length;s<i;s++)(r=t.codegen[e[s].tag])&&r(e[s],n);return n},t.parse=function(e,n,r){return function e(n,r,s,i){var a,o=[],g=null,l=null;for(a=s[s.length-1];n.length>0;){if(l=n.shift(),a&&"<"==a.tag&&!(l.tag in m))throw new Error("Illegal content in < super tag.");if(t.tags[l.tag]<=t.tags.$||u(l,i))s.push(l),l.nodes=e(n,l.tag,s,i);else{if("/"==l.tag){if(0===s.length)throw new Error("Closing tag without opener: /"+l.n);if(g=s.pop(),l.n!=g.n&&!A(l.n,g.n,i))throw new Error("Nesting error: "+g.n+" vs. "+l.n);return g.end=l.i,o}"\n"==l.tag&&(l.last=0==n.length||"\n"==n[0].tag)}o.push(l)}if(s.length>0)throw new Error("missing closing tag: "+s.pop().n);return o}(e,0,[],(r=r||{}).sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),s=this.cache[r];if(s){var i=s.partials;for(var a in i)delete i[a].instance;return s}return s=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=s}}(e)},function(t,e,n){!function(t){function e(t,e,n){var r;return e&&"object"==typeof e&&(void 0!==e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:function(t){return t=g(t),o.test(t)?t.replace(n,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(i,"&#39;").replace(a,"&quot;"):t},t:g,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],r=e[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[t].base=r,n.subs){for(key in e.stackText||(e.stackText={}),n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);r=function(t,e,n,r,s,i){function a(){}function o(){}var g;a.prototype=t,o.prototype=t.subs;var l=new a;for(g in l.subs=new o,l.subsText={},l.buf="",r=r||{},l.stackSubs=r,l.subsText=i,e)r[g]||(r[g]=e[g]);for(g in r)l.subs[g]=r[g];for(g in s=s||{},l.stackPartials=s,n)s[g]||(s[g]=n[g]);for(g in s)l.partials[g]=s[g];return l}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=r,r},rp:function(t,e,n,r){var s=this.ep(t,n);return s?s.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(l(r))for(var s=0;s<r.length;s++)t.push(r[s]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,r,s,i,a){var o;return(!l(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,s,i,a)),o=!!t,!r&&o&&e&&e.push("object"==typeof t?t:e[e.length-1]),o)},d:function(t,n,r,s){var i,a=t.split("."),o=this.f(a[0],n,r,s),g=this.options.modelGet,c=null;if("."===t&&l(n[n.length-2]))o=n[n.length-1];else for(var m=1;m<a.length;m++)void 0!==(i=e(a[m],o,g))?(c=o,o=i):o="";return!(s&&!o)&&(s||"function"!=typeof o||(n.push(c),o=this.mv(o,n,r),n.pop()),o)},f:function(t,n,r,s){for(var i=!1,a=!1,o=this.options.modelGet,g=n.length-1;g>=0;g--)if(void 0!==(i=e(t,n[g],o))){a=!0;break}return a?(s||"function"!=typeof i||(i=this.mv(i,n,r)),i):!s&&""},ls:function(t,e,n,r,s){var i=this.options.delimiters;return this.options.delimiters=s,this.b(this.ct(g(t.call(e,r)),e,n)),this.options.delimiters=i,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,r,s,i,a){var o,g=e[e.length-1],l=t.call(g);return"function"==typeof l?!!r||(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,g,n,o.substring(s,i),a)):l},mv:function(t,e,n){var r=e[e.length-1],s=t.call(r);return"function"==typeof s?this.ct(g(s.call(r)),r,n):s},sub:function(t,e,n,r){var s=this.subs[t];s&&(this.activeSub=t,s(e,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,s=/>/g,i=/\'/g,a=/\"/g,o=/[&<>\"\']/;function g(t){return String(null==t?"":t)}var l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e,n){(t.exports=n(7)(!1)).push([t.i,"#AltruistoTopBarButton,\n#AltruistoTopBarButtonGrey,\n#AltruistoTopBarCTA {\n  display: inline-block;\n  text-align: center;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n}\n\n#AltruistoTopBar {\n  width: 350px !important;\n  max-height: 180px !important;\n  min-height: 120px !important;\n  border: 1px solid #e0e0e0;\n  background-color: #fff !important;\n  box-shadow: 2px 2px 20px 2px rgba(0, 0, 0, 0.3);\n  position: fixed;\n  top: 35px;\n  right: 35px;\n  z-index: 99999999999999999;\n  box-sizing: border-box;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n  text-align: center !important;\n  line-height: 1.4285;\n  font-size: 14px;\n  color: #959595 !important;\n  animation: altruisto-slide-in-right 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s 1 normal both;\n}\n\n#AltruistoTopBarLogoLink {\n  float: left !important;\n}\n\n#AltruistoTopBarLogo {\n  max-width: 20px !important;\n  margin: 8px;\n  float: left;\n}\n\n#AltruistoTopBarIcon {\n  float: right;\n  margin: 10px;\n  cursor: pointer;\n  max-width: 10px !important;\n}\n\n#AltruistoTopBarWelcome {\n  font-size: 12px;\n  width: 30%;\n  float: left;\n  margin: 9px 0 0;\n}\n\n#AltruistoTopBarCTA {\n  font-weight: 700;\n  margin: 7px 0;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n  width: 240px;\n  margin-top: 20px;\n}\n\n#AltruistoTopBarButton {\n  border: 1px solid #4caf50;\n  background: #4caf50;\n  color: #fff;\n  border-radius: 0;\n  padding: 6px 12px;\n  text-decoration: none;\n  font-weight: 700 !important;\n  line-height: 1.4285;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n  text-transform: uppercase;\n  font-size: 14px !important;\n}\n\n#AltruistoTopBarButton:hover {\n  text-decoration: underline;\n  background-color: #439a46;\n  color: #fff;\n}\n\n#AltruistoTopBarButtonGrey {\n  border: 1px solid #e0e1e2;\n  background: #e0e1e2;\n  color: #fff;\n  border-radius: 0;\n  padding: 6px 12px;\n  text-decoration: none;\n  font-weight: 700;\n  line-height: 1.4285;\n  font-family: Helvetica, Arial, Verdana, sans-serif !important;\n}\n\n#AltruistoTopBarButtonGrey:hover {\n  text-decoration: underline;\n  background-color: #cacbcd;\n  color: #fff;\n}\n\n#AltruistoSmallText {\n  font-weight: 300px;\n  font-size: 12px;\n}\n\n@-webkit-keyframes altruisto-slide-in-right {\n  0% {\n    -webkit-transform: translateX(1000px);\n    transform: translateX(1000px);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translateX(0);\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n@keyframes altruisto-slide-in-right {\n  0% {\n    -webkit-transform: translateX(1000px);\n    transform: translateX(1000px);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translateX(0);\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var s=(a=r,o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(g," */")),i=r.sources.map(function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")});return[n].concat(i).concat([s]).join("\n")}var a,o,g;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},s=0;s<this.length;s++){var i=this[s][0];null!=i&&(r[i]=!0)}for(var a=0;a<t.length;a++){var o=t[a];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="(".concat(o[2],") and (").concat(n,")")),e.push(o))}},e}},,function(t,e,n){"use strict";n.r(e);var r=n(0);const s={icons:{cancel:r.extension.getURL("assets/img/cancel.png"),settings:r.extension.getURL("assets/img/settings.png"),icon:r.extension.getURL("assets/img/icon.png"),icon16:r.extension.getURL("assets/img/icon16.png")},pages:{options:r.extension.getURL("pages/options.html")}};var i=n(1);const a=Object(i.a)(location.href);function o(){let t=[];document.getElementById("AltruistoTopBar").style.display="none",r.storage.local.get({closedWebsites:[]},function(e){-1==e.closedWebsites.indexOf(a)&&((t=e.closedWebsites).push(a),r.storage.local.set({closedWebsites:t}))})}function g(t){let e=n(2),i=function(t){let e;return e=t?r.i18n.getMessage("topbarActivatedInfo")+'<p id="AltruistoSmallText">'+r.i18n.getMessage("topbarActivatedClose")+"</p>":-1!==a.indexOf("ebay")?r.i18n.getMessage("topbarActivateInfo")+"<a href=https://altruisto.com/confirm?url="+location.href+"&lang="+r.i18n.getUILanguage()+" id=AltruistoTopBarButton>"+r.i18n.getMessage("topbarActivateButton")+"</a>":r.i18n.getMessage("topbarActivateInfo")+"<a href=https://altruisto.com/redirect?url="+location.href+"&lang="+r.i18n.getUILanguage()+" id=AltruistoTopBarButton>"+r.i18n.getMessage("topbarActivateButton")+"</a>"}(t);return e({ASSETS_PATHS:s,content:i})}function l(t){let e=n(6).toString(),s=document.createElement("style");s.innerHTML=e;let i=g(t),a=document.createElement("div");a.id="Altruisto","ar"==r.i18n.getUILanguage()&&(a.dir="rtl"),a.innerHTML=i,document.documentElement.prepend(s),document.documentElement.prepend(a),t&&setInterval(function(){o()},6e3),document.getElementById("AltruistoTopBarIcon").addEventListener("click",function(){o()})}function c(t){if(t.length)for(let e=0;e<t.length;e++)if(t[e].domain==a){if(t[e].timestamp+6048e5>Date.now())return!0}}var m=function(){r.storage.local.get({activatedAffiliates:[],closedWebsites:[],disabledWebsites:[],partners:[]},function(t){if(-1!=t.partners.indexOf(a)){if(-1==t.closedWebsites.indexOf(a)&&-1==t.disabledWebsites.indexOf(a)){let e=!1;c(t.activatedAffiliates)&&(e=!0),l(e)}if(-1==t.disabledWebsites.indexOf(a)&&(location.href,"booking.com"==a&&-1!==location.href.indexOf("book.html")||"etsy.com"==a&&-1!==location.href.indexOf("/cart/")||"aliexpress.com"==a&&-1!==location.href.indexOf("/confirm_order.htm")||"barnesandnoble.com"==a&&-1!==location.href.indexOf("/checkout/"))){let e=!1;c(t.activatedAffiliates)&&(e=!0),l(e)}}})};r.storage.sync.get({addTopBar:!0},function(t){t.addTopBar&&m()})}]);